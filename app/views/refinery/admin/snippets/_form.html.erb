<%= form_for [refinery, :admin, @snippet],
            html: { data: { remote: true }} do |f| -%>
  <div class="clearfix">

    <%= render('/refinery/admin/locale_picker',
                (@snippet.new_record? ?
                  { url: 'new_admin_snippet_path' } :
                  { url: 'edit_admin_snippet_path', url_options: { id: @snippet } })
              ) if Refinery::I18n.frontend_locales.many? %>

    <div class="form-title">
      <h1>
      <% if @snippet.new_record? %>
        <%= t('new_snippet', scope: 'refinery.admin.snippets.actions') %>
      <% else %>
        <%= t('edit_snippet', scope: 'refinery.admin.snippets.actions') %>:
        <%= @snippet.title %>
      <% end -%>
      </h1>

      <div class="clearfix">
        <div class="meta-informations right-side">
          <%= snippet_meta_information(@snippet) unless @snippet.new_record? %>
        </div>
        <div class="breadcrumbs less-important">
          <p>
            <%= link_to refinery_plugin.title, refinery_plugin.url %>
          </p>
        </div>
      </div>
    </div>
  </div>

  <%= render '/refinery/admin/error_messages',
              object: f.object,
              include_object_name: true %>

  <div class="field">
    <%= f.label :title -%>
    <%= f.text_field :title, class: 'larger widest' -%>
  </div>

  <div class="field">
    <%= f.label :body -%>
    <% if @snippet.snippet_type == 'text' %>
      <%= f.text_area :body, rows: 20, class: 'widest' -%>
    <% else %>
      <%= f.text_field :body, class: 'widest' -%>
    <% end %>
  </div>

  <div class="field">
    <%= f.label :canonical_friendly_id -%>
    <%= f.text_field :canonical_friendly_id -%>
  </div>

  <%= render partial: '/refinery/admin/form_actions',
              locals: {
                f: f
              } %>
<% end -%>
